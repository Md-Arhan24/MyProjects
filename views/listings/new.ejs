<% layout('/layouts/bilorplate.ejs') %>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="/style/navbar.css" />

<div
  class="d-flex justify-content-center align-items-center"
  style="min-height: 80vh"
>
  <form
    class="needs-validation p-3 shadow rounded"
    action="/listings/new"
    method="post"
    novalidate
    enctype="multipart/form-data"
    style="width: 60vh; max-width: 450px; margin: 0 auto; background: #fff"
  >
    <div class="mb-2">
      <label for="title" class="form-label">Title</label>
      <input
        type="text"
        class="form-control custom-focus"
        id="title"
        name="title"
        placeholder="Hawa Mahal"
        required
      />
      <div class="invalid-feedback">Please provide a title.</div>
    </div>
    <div class="mb-2">
      <label for="description" class="form-label">Description</label>
      <textarea
        class="form-control custom-focus"
        id="description"
        name="description"
        rows="2"
        placeholder="Tell more about this place"
        required
      ></textarea>
      <div class="invalid-feedback">Please provide a description.</div>
    </div>
    <div class="mb-2">
      <label for="image" class="form-label">Upload Image</label>
      <input
        type="file"
        class="form-control custom-focus"
        id="image"
        name="image"
        required
      />
      <div class="invalid-feedback">Please provide a valid image URL.</div>
    </div>
    <div class="mb-2">
      <label for="price" class="form-label">Price</label>
      <input
        type="number"
        class="form-control custom-focus"
        id="price"
        name="price"
        placeholder="Price"
        min="1"
        required
      />
      <div class="invalid-feedback">Please provide a valid price.</div>
    </div>
    <div class="mb-2">
      <label for="location" class="form-label">Location</label>
      <input
        type="text"
        class="form-control custom-focus"
        id="location"
        name="location"
        placeholder="Near Taj Mahal"
        required
      />
      <div class="invalid-feedback">Please provide a location.</div>
    </div>
    <div class="mb-2">
      <label for="country" class="form-label">Country</label>
      <input
        type="text"
        class="form-control custom-focus"
        id="country"
        name="country"
        placeholder="India"
        required
      />
      <div class="invalid-feedback">Please provide a country.</div>
    </div>
    <div class="mb-2">
      <label for="category" class="form-label">Category</label>
      <select name="category" id="category">
        <option value="mountain">Mountain</option>
        <option value="local">Local</option>
        <option value="city" selected>City</option>
        <option value="farm">Fields</option>
        <option value="beach">Beach</option>
        <option value="nature">Nature</option>
      </select>
      
    </div>
    <button class="btn btn-primary w-100 mt-2" type="submit">Add Post</button>
  </form>
</div>
<style>
  .custom-focus:focus {
    border: 2px solid #0d6efd !important;
    box-shadow: 0 0 0 0.2rem rgba(13, 110, 253, 0.25);
  }
</style>
<script>
  // Bootstrap custom validation
  (() => {
    "use strict";
    const forms = document.querySelectorAll(".needs-validation");
    Array.from(forms).forEach((form) => {
      form.addEventListener(
        "submit",
        (event) => {
          if (!form.checkValidity()) {
            event.preventDefault();
            event.stopPropagation();
          }
          form.classList.add("was-validated");
        },
        false
      );
    });
  })();
</script>