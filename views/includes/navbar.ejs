<link rel="stylesheet" href="/style/navbar.css" />
<!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css"> -->
<nav class="nav">
  <div class="logo">
    <a href="/listings"><%- include('../symbols/fulllogo.ejs') %></a>
  </div>
  <div class="search">
    <form class="d-flex" role="search" action="/search" method="post">
      <input
        class="form-control me-2"
        type="search"
        placeholder="hotels in jaipur..."
        name="place"
        aria-label="Search"
      />
      <button class="btn btn-outline-success hero" type="submit">
        <i class="fa-solid fa-magnifying-glass search_icon"></i>Search
      </button>
    </form>
  </div>
  <div class="navigations">
    <a href="/new" id="host">BECOME A HOST</a>
    <% if (typeof userInfo === 'undefined' || !userInfo) { %>
    <a href="/signup">Sign up</a>
    <a href="/login">Log in</a>
    <% } else { %>
    <a href="/logout">Log out</a>
     <% } %> 
     
  </div>
</nav>
<div id="filters">
  <form action="/listings/mountain" method="post">
    <div class="filter">
      <input type="text" name="category" value="local" hidden />
      <div class="icon"><i class="fa-solid fa-fire"></i></div>
      <button type="submit"><p>Trending</p></button>
    </div>
    <div class="filter">
      <div class="icon"><i class="fa-solid fa-bed"></i></div>
      <p>Listings</p>
    </div>
    <div class="filter">
      <div class="icon"><i class="fa-solid fa-umbrella-beach"></i></div>
      <p>Beach</p>
    </div>
    <div class="filter">
      <div class="icon"><i class="fa-solid fa-mountain-city"></i></div>
      <p>Iconic cites</p>
    </div>
    <div class="filter">
      <input type="text" name="category" value="mountain" hidden />
      <div class="icon"><i class="fa-solid fa-mountain"></i></div>
      <button type="submit"><p>Mountain</p></button>
    </div>

    <div class="filter hide">
      <div class="icon"><i class="fa-regular fa-chess-rook"></i></div>
      <p>Castles</p>
    </div>
    <div class="filter hide">
      <div class="icon"><i class="fa-solid fa-water-ladder"></i></div>
      <p>Polling</p>
    </div>
    <div class="filter hide">
      <div class="icon"><i class="fa-solid fa-tents"></i></div>
      <p>Camping</p>
    </div>
    <div class="filter hide">
      <div class="icon"><i class="fa-solid fa-wheat-awn"></i></div>
      <p>Farm</p>
    </div>
    <div class="filter hide">
      <div class="icon"><i class="fa-solid fa-snowflake"></i></div>
      <p>Artic</p>
    </div>
    <div class="filter hide">
      <div class="icon"><i class="fa-solid fa-sun"></i></div>
      <p>Sunny</p>
    </div>
  </form>
  <div id="toggle">
    <div class="form-check-reverse form-switch look">
      <input
        class="form-check-input"
        type="checkbox"
        role="switch"
        id="flexSwitchCheckDefault"
      />
      <label class="form-check-label" for="flexSwitchCheckDefault"
        >Display listings after taxes</label
      >
    </div>
  </div>
</div>
<script>
  // let element = document.querySelector("#flexSwitchCheckDefault");
  // let gst_switch = document.querySelectorAll("#gst");

  // element.addEventListener("change", (e) => {
  //   console.log('clicked');
  //   if (gst_switch.checked) {
  //     gst_switch.forEach((e) => {
  //       e.style.display = "inline";
  //     });
  //   } else {
  //     gst_switch.forEach((e) => {
  //       e.style.display = "none";
  //     });
  //   }
  // });
  //   let element = document.querySelector("#flexSwitchCheckDefault");
  // let gst_switch = document.querySelectorAll(".gst");

  // element.addEventListener("change", () => {
  //   console.log('chnages');
  //   console.log(gst_switch);
  //   gst_switch.forEach((el) => {
  //     el.style.display = element.checked ? "inline" : "none";
  //   });
  // });
  document.addEventListener("DOMContentLoaded", () => {
    let element = document.querySelector("#flexSwitchCheckDefault");
    let gst_switch = document.querySelectorAll(".gst");

    // console.log(gst_switch); // Now this will show the correct NodeList

    element.addEventListener("change", () => {
      gst_switch.forEach((el) => {
        el.style.display = element.checked ? "inline" : "none";
      });
    });
  });
</script>
